\documentclass[12pt]{article}
\usepackage[letterpaper]{geometry}                                              
                                                                                
\input{macros}                                                                  
                                                                                
\usepackage{proof-dashed}                                                       
\usepackage{tikz-cd}                                                            
\usepackage{amsmath}                                                            
\usepackage{lmodern}                                                            
\usepackage{microtype}                                                          

\metadata{Lewis and Tassarotti}{2013/10/21 and 2013/10/23}

\newtheorem{thm}{Theorem}
\newtheorem{eg}{Example}
\newcommand{\ap}{\mathsf{ap}}
\newcommand{\apd}{\mathsf{apd}}
\newcommand{\tr}{\mathsf{tr}}
\newtheorem*{remark}{Remark}

\begin{document}
\title{15-819 Homotopy Type Theory Lecture Notes} 
\author{Robert Lewis and Joseph Tassarotti}
\date{October 21 and 23, 2013}

\maketitle

\section{Paths-over-Paths}\label{}

Recall that last time we explored the higher groupoid structure of types, and
showed that for non-dependent maps, $\ap$ preserves this structure.  Now, in
the case where we have a dependent function $f : \Pi x: A.B$, we would like to
similarly state that $f$ maps equals to equals, so that given a path $p :
\Id{A}(M,N)$, there is some map which takes $p$ gives a path between $f M$ and
$f N$. However, because $f$ is dependent, $f M : [M/x]B$ and $f N : [N/x] B$.
Although these types are related, they are not equal, so we cannot talk about
propositional equality between $f M$ and $f N$.

In earlier lectures, we defined $\tr[x.B]p : [M/x] B \to [N/x] B$, often
written as $p_*$, which lifts the path $p$ to a mapping between the fibers
$[M/x] B$ and $[N/x] B$. Since $p_*(f M)$ and $f N$ share the same type, we can
meaningfully talk about equality between them. We can now define a map $\apd_f
: \Pi p: \Id{A}(M, N). \Id{[N/x]B}(p_* (f M), f N)$ by
%
\[ \apd_f p := \J[m.n.z. \Id{[n/x]B}(z_{*}(f m), f n)](p ; m. \refl{[m/x]B}(m)) \]
%

This has the appropriate type because when the path is simply $\refl{A}(M)$, we
have that $(\refl{A}(M))_* \jdeq \refl{[M/x]B}(f M)$ Now, since $p_*^{-1}$
gives a map between the fibers going the other way, we could just as well have
defined an analogous term $\apd_f' : Id{A}(M, N) \to \Id{[M/x]B}(f M,
p_*^{-1}(f N))$. Moreover, we have that
%
\[
\begin{array}{lcl}
\ap_{p_*^{-1}} (\apd_f p) &:& \Id{[M/x]B}(p_*^{-1} (p_* (f M)), p_*^{-1} (f N))  \\
                          & &  \ \ \jdeq \Id{[M/x]B}(f M, p_*^{-1} (f N)) \\
\\
\ap_{p_*} (\apd_f p^{-1}) &:& \Id{[N/x]B}(p_* (f M)), p_* (p_*^{-1} (f N))) \\
                          & &  \ \ \jdeq \Id{[N/x]B}(p_* (f M), f N) \\

\end{array}
\]
%
which shows that these two theorems imply one another. 

The lack of symmetry in the types of $\apd_f$ and $\apd_f'$ is somewhat awkward
when developing machine checked proofs. It's more convenient to define a
symmetric notation, $f(M) =_p^{x. B} f(N) \defeq Id{[N/x]B}(p_* (f M), f N)$,
which we read as ``$f(M)$ and $f(N)$ are correlated by $p$" . This corresponds
to the type of paths \emph{over} the path $p$. Using this notation, we 
can prove theorems about this type like:


\[
\begin{array}{lcl}
\text{sym}_{\text{corr}} & : & Q =_p^{x.B} R \ \to \ R =_{p^{-1}}^{x.B} Q \\
\\
\text{trans}_{\text{corr}} & : & Q =_p^{x.B} R \ \to R =_q^{x.B} S \to Q =_{p \concat q}^{x.B} S 
\end{array}
\]
%
[TODO : Draw diagrams? Give terms for the correlation lemmas?]

\section{Equivalence of Types}

We start by informally recalling some notions of equivalence that are commonly
used in mathematics:

\begin{enumerate}

\item \emph{Biconditional propositions}: Given two propositions $p$ and $q$
such that $p \imp q$ and $q \imp p$, we might wish to say that $p = q$,
because these two propositions are logically equivalent. In classical logic,
this makes sense, because $p$ and $q$ are both either equal to true or equal
false. To quote Whitehead and Russell~\cite[p.115]{Whitehead63}:

\begin{quotation}

When each of two propositions implies the other, we say that the two are
\emph{equivalent}, which we write ``$p \jdeq q$'' \dots It is obvious that two
propositions are equivalent when, and only when, both are true or both are
false\dots

We shall give the name of a \emph{truth-function} to a function
$f(p)$ whose argument is a proposition, and whose truth-value
depends only upon the truth-value of its argument. All the functions
of a proposition with which we shall be specially concerned will be
truth-functions, \emph{i.e.} we shall have
%
\begin{equation*}
p \jdeq q \ . \imp \ . f(p) \jdeq f(q) . 
\end{equation*}
%
\end{quotation}

This means that for Whitehead and Russell, if $p$ and $q$ are logically
equivalent, then they are indiscernible. However, in the proof relevant setting
of type theory, this is not the case, because these types classify particular
pieces of data.  Although terms of the type $f : p \to q$ and $g : q \to p$
give us ways to interconvert proofs of $p$ and $q$, a proof of $p$ is not by
itself a proof of $q$.  Moreover, it need not even be the case that $f$ and $g$
are inverses of each other.

\item \emph{Isomorphic sets}: In set theory, we say that two sets $A$ and $B$
are \emph{isomorphic} if there is a bijection between them. That is, there are
functions $f : A \to B$ and $g : B \to A$ such that $g(f(a)) = a$ and $f(g(b))
= b$. In many contexts, it is not relevant for us to distinguish between
isomorphic sets. However, in ZF set theory, just because two sets are
isomorphic does not mean they are indiscernible, so we cannot regard them
as equal.

This is a larger symptom of the fact that although ZF set theory lets us encode
the structures of mathematics, it does not support abstraction. Propositions
like $0 \in 1$ are perfectly well-formed, and are even true for most encodings
of the natural numbers as sets. As de Bruijn points out~\cite{deBruijn95},
these artifacts of a particular encoding contradict the way we conceptually
think of mathematics\footnote{A portion of this passage is quoted in
\cite{Lamport99}, which contains an interesting discussion about some
advantages and disadvantages of types and sets.}:
%
\begin{quotation}
In our mathematical culture we have learned to keep things apart. If we have a
rational number and a set of points in the Euclidean plane, we cannot even
imagine what it means to form the intersection. The idea that both might have
been coded in ZF with a coding so crazy that the intersection is \emph{not
empty} seems to be ridiculous\dots

A very clear case of thinking in terms of types can be found in Hilbert's
axiomatization of geometry. He started by saying that he assumes there are
certain things which will be called \emph{points} and certain things to be
called \emph{lines}. Nothing is said about the nature of these things.
\end{quotation}
%
Type theory rules out statements like $0 \in 1$ as ill-formed. As we shall see,
this same facility for abstraction allows us to give a more suitable treatment
of equivalence.

\end{enumerate}

Now, we turn to the question of equivalences of types. Applying our na\"ive
intuition of regarding types as sets, we might say that types are isomorphic
precisely when there is a bijection between them. In ITT, this will work for
types corresponding to first order data, but we encounter problems when
considering functions.

More precisely, to show that $A \to B$ is isomorphic to $C \to D$, we need to
construct functions $F: (A \to B) \to (C \to D)$ and $G: (C \to D) \to (A \to
B)$ such that for all $f : A \to B$ and $g : C \to D$, $G(F(f)) = f$ and
$F(G(g)) = g$. In a set-theoretic setting, it would suffice to show that for
all $x \in A$, $G(F(f))(x) = f(x)$, and similarly for $F \circ G$. However, in
ITT we lack function extensionality, this is not enough. We need to show that
$G \circ F$ maps $f$ precisely back to itself.  One might try to resolve this
by quotienting by extensionality or adding in an axiom of extensionality.

However, the problem becomes even more difficult when considering universes.
We would need to show that for each type $A$ in the universe, $G(F(A)) = A$.
Just as with functions, where we were really interested in showing that $G
\comp F$ mapped a function to something that was extensionally equivalent, here
we want $G(F(A))$ to itself be isomorphic to $A$ not equal.

\bibliographystyle{plain}
\bibliography{hott_references}

\end{document}
